<mat-progress-bar *ngIf="loading" mode="indeterminate" color="primary"></mat-progress-bar>

<div class="header-bar">
  <button (click)="goback()" class="back-button">
    <i class="ph ph-caret-left"></i>
    <span>{{ isEditMode ? 'Edit Helper' : 'Add Helper' }}</span>
  </button>
</div>

<div class="main-container">
  <div class="sidebar">
    <app-step-slider
      [currentStep]="presentstep()"
      [isEditMode]="isEditMode"
      (editStepSelected)="goto($event)"
      class="step-slider">
    </app-step-slider>
  </div>

  <div class="content">
    <app-document-details
      *ngIf="presentstep() === 1"
      [detailsform]="documentForm">
    </app-document-details>

    <app-additional-details
      *ngIf="presentstep() === 2"
      [detailsform]="additionalDetailsForm">
    </app-additional-details>

    <app-review-details
      *ngIf="presentstep() === 3"
      [detailsform]="documentForm">
    </app-review-details>

    <div class="button-group">
      <button
        *ngIf="!isEditMode && presentstep() > 1"
        (click)="goto(presentstep() - 1)"
        class="btn btn-outline">
        Previous
      </button>

      <button
        *ngIf="!isEditMode && presentstep() < 3"
        (click)="goto(presentstep() + 1)"
        class="btn btn-outline">
        Next
      </button>

      <button
        *ngIf="!isEditMode && presentstep() === 3"
        (click)="submitHelper()"
        class="btn btn-primary">
        Add Helper
      </button>

      <button
        *ngIf="isEditMode && presentstep() <= 2"
        (click)="saveAndExit()"
        class="btn btn-primary">
        Save and Exit
      </button>
    </div>
  </div>
</div>
